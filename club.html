<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ë™ì•„ë¦¬í™œë™ ê´€ë¦¬ - ìµœì¢… ì™„ì„±</title>
    <style>
      /* [ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€] */
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Segoe UI", -apple-system, sans-serif;
        background: #f5f6f8;
        color: #333;
      }
      .topbar {
        height: 48px;
        background: #f5c6cf;
        display: flex;
        align-items: center;
        padding: 0 16px;
        font-weight: 700;
        border-bottom: 1px solid #e5adba;
      }

      .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        height: calc(100vh - 48px);
      }
      .left,
      .right {
        padding: 25px;
        overflow-y: auto;
        background: #fff;
      }
      .left {
        border-right: 1px solid #e5e7eb;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }
      .section-title {
        font-size: 18px;
        font-weight: 700;
        color: #1f2937;
      }

      .form-group {
        margin-bottom: 20px;
        position: relative;
      }
      .label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 8px;
        color: #4b5563;
      }
      .input,
      .textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        font-size: 14px;
        transition: border 0.2s;
      }
      .input:focus,
      .textarea:focus {
        outline: none;
        border-color: #1f4ddc;
        box-shadow: 0 0 0 3px rgba(31, 77, 220, 0.1);
      }
      .textarea {
        min-height: 150px;
        line-height: 1.6;
        resize: vertical;
      }

      .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }
      .btn {
        padding: 10px 18px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        border: 1px solid #d1d5db;
        background: #fff;
        transition: 0.2s;
      }
      .btn:hover {
        background: #f9fafb;
        border-color: #9ca3af;
      }
      .btn.primary {
        background: #1f4ddc;
        color: #fff;
        border-color: #163aa5;
      }
      .btn.success {
        background: #10b981;
        color: #fff;
        border-color: #059669;
      }
      .btn.accent {
        background: #f59e0b;
        color: #fff;
        border-color: #d97706;
      }
      .btn.sm {
        padding: 5px 10px;
        font-size: 12px;
      }

      .autocomplete-results {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border: 1px solid #d1d5db;
        border-top: none;
        border-radius: 0 0 8px 8px;
        z-index: 100;
        max-height: 200px;
        overflow-y: auto;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        display: none;
      }
      .autocomplete-item {
        padding: 10px 15px;
        cursor: pointer;
        font-size: 14px;
      }
      .autocomplete-item:hover {
        background: #f3f4f6;
        color: #1f4ddc;
      }
      .autocomplete-item.selected {
        background: #eff6ff;
        color: #1f4ddc;
        font-weight: 600;
      }

      .preview-box {
        width: 100%;
        height: 500px;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 25px;
        font-size: 15px;
        line-height: 1.8;
        white-space: pre-wrap;
        outline: none;
        background: #fff;
      }
      .counter {
        text-align: right;
        margin-top: 10px;
        font-size: 13px;
        color: #6b7280;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
      }
      .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 900px;
        height: 700px;
        background: #fff;
        border-radius: 16px;
        display: flex;
        flex-direction: column;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }
      .modal-header {
        padding: 18px 25px;
        background: #f9fafb;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 16px 16px 0 0;
      }
      .modal-body {
        display: grid;
        grid-template-columns: 240px 1fr;
        flex: 1;
        overflow: hidden;
      }

      .student-list-header {
        padding: 12px 15px;
        border-bottom: 1px solid #eee;
        background: #f1f5f9;
        font-weight: 600;
        font-size: 13px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .student-list {
        background: #f8fafc;
        border-right: 1px solid #eee;
        overflow-y: auto;
      }
      .student-item {
        padding: 12px 15px;
        border-bottom: 1px solid #f1f5f9;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: default;
      }
      .student-item:hover {
        background: #fff;
      }
      .student-name-span {
        cursor: pointer;
        flex: 1;
        padding: 4px;
        border-radius: 4px;
      }
      .student-name-span:hover {
        color: #1f4ddc;
        font-weight: 600;
        background: #eff6ff;
      }
      .student-name-span.active {
        color: #fff;
        background: #1f4ddc;
        font-weight: 600;
      }

      .log-entry {
        padding: 25px;
        overflow-y: auto;
      }
      .history-item {
        background: #fff;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 12px;
        margin-bottom: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      }
      .history-content {
        font-size: 13.5px;
        line-height: 1.4;
        color: #374151;
      }
      .history-date {
        font-weight: 700;
        color: #1f4ddc;
        margin-right: 6px;
        font-size: 12px;
        background: #eff6ff;
        padding: 2px 6px;
        border-radius: 4px;
      }

      #toast {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: #fff;
        padding: 10px 20px;
        border-radius: 20px;
        font-size: 13px;
        opacity: 0;
        transition: 0.3s;
        pointer-events: none;
        z-index: 2000;
      }
    </style>
  </head>
  <body>
    <div id="toast">ì•Œë¦¼</div>
    <div class="topbar">ë™ì•„ë¦¬í™œë™ ê´€ë¦¬ ì‹œìŠ¤í…œ</div>

    <div class="container">
      <section class="left">
        <div class="section-header">
          <div class="section-title">í•™ìƒí™œë™ êµ¬ì„±</div>
          <button class="btn accent" onclick="openModal()">
            ğŸ“… ëˆ„ê°€ê¸°ë¡ í†µí•© ê´€ë¦¬
          </button>
        </div>

        <div class="form-group">
          <label class="label">ëŒ€ìƒ í•™ìƒ ê²€ìƒ‰</label>
          <input
            type="text"
            class="input"
            id="studentSearch"
            placeholder="í•™ìƒ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” (ë°©í–¥í‚¤/ì—”í„° ì‚¬ìš©)"
            autocomplete="off"
          />
          <div id="autocompleteList" class="autocomplete-results"></div>
          <div class="btn-group">
            <button class="btn" onclick="fetchLogs()">
              ğŸ”„ ëˆ„ê°€ê¸°ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
            </button>
          </div>
        </div>

        <div class="form-group">
          <label class="label">í™œë™ ìš”ì•½ ë° ë°ì´í„°</label>
          <textarea
            id="activityInput"
            class="textarea"
            placeholder="í•™ìƒì„ ê²€ìƒ‰í•˜ê±°ë‚˜ ëˆ„ê°€ê¸°ë¡ì„ ë¶ˆëŸ¬ì˜¤ë©´ ë°ì´í„°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤."
          ></textarea>
        </div>

        <div style="text-align: center; margin: 30px 0">
          <button
            class="btn primary"
            style="width: 220px; height: 48px; font-size: 15px"
            onclick="generateAI()"
          >
            âœ¨ AI ë¬¸ì¥ ìƒì„±í•˜ê¸°
          </button>
        </div>

        <div class="form-group">
          <label class="label">AI ì¶”ì²œ ì´ˆì•ˆ (ìˆ˜ì • ê°€ëŠ¥)</label>
          <textarea
            id="tempDraft"
            class="textarea"
            style="background: #fdfbff; border-color: #c7d2fe"
          ></textarea>
          <button
            class="btn success"
            style="width: 100%; margin-top: 10px"
            onclick="applyToRight()"
          >
            ìš°ì¸¡ ê²°ê³¼ì°½ìœ¼ë¡œ ë³´ë‚´ê¸° â†’
          </button>
        </div>
      </section>

      <section class="right">
        <div class="section-header">
          <div class="section-title">ìµœì¢… ê¸°ì¬ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°</div>
          <div class="btn-group">
            <button class="btn" onclick="aiPolish()">âœ¨ ì „ì²´ AI ë‹¤ë“¬ê¸°</button>
            <button class="btn success" onclick="submitFinal()">
              ğŸ’¾ ì ìš©í•˜ê¸°
            </button>
          </div>
        </div>
        <div
          id="finalPreview"
          class="preview-box"
          contenteditable="true"
          oninput="updateCount()"
        >
          ë¨¼ì € ì¢Œì¸¡ì—ì„œ í•™ìƒì„ ê²€ìƒ‰í•˜ê³  í™œë™ ë¬¸ì¥ì„ ìƒì„±í•´ì£¼ì„¸ìš”.
        </div>
        <div class="counter">
          ê¸€ììˆ˜: <span id="charNum" style="font-weight: 700">0</span>ì
          &nbsp;|&nbsp; NEIS ìš©ëŸ‰:
          <span id="byteNum" style="color: #1f4ddc; font-weight: 700">0</span> /
          1500 Byte
        </div>
      </section>
    </div>

    <div id="logModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <div style="font-size: 16px; font-weight: 700">
            ğŸ“… ë™ì•„ë¦¬ ëˆ„ê°€ê¸°ë¡ ë°ì´í„°ë² ì´ìŠ¤
          </div>
          <button class="btn" onclick="closeModal()">ë‹«ê¸°</button>
        </div>
        <div class="modal-body">
          <div
            style="
              display: flex;
              flex-direction: column;
              background: #f8fafc;
              border-right: 1px solid #eee;
            "
          >
            <div class="student-list-header">
              <input
                type="checkbox"
                id="selectAll"
                onchange="toggleAll(this)"
              />
              <label for="selectAll" style="cursor: pointer"
                >ì „ì²´ ì„ íƒ/í•´ì œ</label
              >
            </div>
            <div class="student-list" id="modalStudentList"></div>
          </div>

          <div class="log-entry">
            <div
              id="targetTitle"
              style="
                font-size: 18px;
                font-weight: 700;
                margin-bottom: 20px;
                color: #1f4ddc;
              "
            >
              ì‘ì—… ëŒ€ìƒì„ ì„ íƒí•´ ì£¼ì„¸ìš”
            </div>

            <div
              style="
                background: #f1f5f9;
                padding: 20px;
                border-radius: 12px;
                margin-bottom: 20px;
              "
            >
              <div style="margin-bottom: 15px; font-weight: 600">
                í™œë™ ì¼ì:
                <input
                  type="date"
                  id="logDate"
                  class="input"
                  style="width: 160px; margin-left: 10px"
                />
              </div>
              <input
                type="text"
                id="logContent"
                class="input"
                placeholder="í™œë™ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì¶•ì œ ë¶€ìŠ¤ ìš´ì˜)"
                style="margin-bottom: 15px"
              />
              <div style="text-align: right">
                <button class="btn primary" onclick="saveBatchLogs()">
                  ğŸ’¾ ì„ íƒëœ í•™ìƒ(ë“¤)ì—ê²Œ ì¼ê´„ ì ìš©
                </button>
              </div>
            </div>

            <div style="border-top: 1px solid #eee; padding-top: 20px">
              <div class="label" style="font-size: 14px; margin-bottom: 10px">
                ğŸ•’ ê°œë³„ ì´ë ¥ ê´€ë¦¬ (ì¢Œì¸¡ ëª…ë‹¨ì—ì„œ ì´ë¦„ í´ë¦­)
              </div>
              <div
                id="historyList"
                style="
                  background: #fff;
                  min-height: 100px;
                  max-height: 250px;
                  overflow-y: auto;
                  border: 1px solid #e5e7eb;
                  border-radius: 8px;
                  padding: 15px;
                "
              >
                <span style="color: #9ca3af; font-size: 13px"
                  >ì´ë¦„ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ í•™ìƒì˜ ê¸°ë¡ë§Œ ì¡°íšŒ/ìˆ˜ì •í•  ìˆ˜
                  ìˆìŠµë‹ˆë‹¤.</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const students = [
        "ê¹€ë¯¼ìˆ˜",
        "ê¹€ì² ìˆ˜",
        "ë°•ì§€ì„±",
        "ì†í¥ë¯¼",
        "ì´ì˜í¬",
        "ì´í•˜ëŠ¬",
        "ìµœìˆ˜ì—°",
        "ì •í•´ì¸",
      ];
      let studentLogs = {};
      let viewingStudent = "";
      let logIdCounter = 0;
      let selectedIndex = -1;

      window.onload = () => {
        students.sort().forEach((name) => (studentLogs[name] = []));
        initModalList();
        document.getElementById("logDate").value = new Date()
          .toISOString()
          .split("T")[0];
      };

      function showToast(msg) {
        const t = document.getElementById("toast");
        t.textContent = msg;
        t.style.opacity = 1;
        setTimeout(() => (t.style.opacity = 0), 2000);
      }

      const searchInput = document.getElementById("studentSearch");
      const autoList = document.getElementById("autocompleteList");

      searchInput.addEventListener("input", function () {
        const val = this.value.trim();
        autoList.innerHTML = "";
        selectedIndex = -1;
        if (!val) {
          autoList.style.display = "none";
          return;
        }

        const filtered = students.filter((s) => s.includes(val));
        if (filtered.length > 0) {
          filtered.forEach((name, idx) => {
            const item = document.createElement("div");
            item.className = "autocomplete-item";
            item.textContent = name;
            item.onclick = () => selectStudent(name);
            autoList.appendChild(item);
          });
          autoList.style.display = "block";
        } else {
          autoList.style.display = "none";
        }
      });

      searchInput.addEventListener("keydown", function (e) {
        const items = autoList.getElementsByClassName("autocomplete-item");
        if (items.length === 0) return;

        if (e.key === "ArrowDown") {
          e.preventDefault();
          selectedIndex++;
          if (selectedIndex >= items.length) selectedIndex = 0;
          updateSelection(items);
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          selectedIndex--;
          if (selectedIndex < 0) selectedIndex = items.length - 1;
          updateSelection(items);
        } else if (e.key === "Enter") {
          e.preventDefault();
          if (selectedIndex > -1) items[selectedIndex].click();
          else if (items.length > 0) items[0].click();
        }
      });

      function updateSelection(items) {
        Array.from(items).forEach((item, idx) => {
          if (idx === selectedIndex) {
            item.classList.add("selected");
            item.scrollIntoView({ block: "nearest" });
          } else {
            item.classList.remove("selected");
          }
        });
      }

      function selectStudent(name) {
        searchInput.value = name;
        autoList.style.display = "none";
        fetchLogs();
      }

      document.addEventListener("click", (e) => {
        if (e.target !== searchInput) autoList.style.display = "none";
      });

      function fetchLogs() {
        const name = searchInput.value.trim();
        if (!name || !students.includes(name))
          return alert("í•™ìƒì„ ì˜¬ë°”ë¥´ê²Œ ì„ íƒí•´ì£¼ì„¸ìš”.");
        const logs = studentLogs[name];
        if (logs.length === 0) {
          document.getElementById("activityInput").value = "";
          alert("ì €ì¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ëˆ„ê°€ê¸°ë¡ ê´€ë¦¬ì—ì„œ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }
        logs.sort((a, b) => a.date.localeCompare(b.date));
        const summary = logs.map((l) => `[${l.date}] ${l.content}`).join("\n");
        document.getElementById("activityInput").value = summary;
        showToast("ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.");
      }

      // [ìˆ˜ì •] AI ë¬¸ì¥ ìƒì„± ì‹œ ë‚ ì§œ ì œê±° ë¡œì§ ì ìš©
      function generateAI() {
        const name = searchInput.value;
        if (!name || !studentLogs[name] || studentLogs[name].length === 0) {
          return alert("ë¨¼ì € í•™ìƒì„ ê²€ìƒ‰í•˜ê³  ëˆ„ê°€ê¸°ë¡ì„ ë¶ˆëŸ¬ì™€ì£¼ì„¸ìš”.");
        }

        // ë‚ ì§œë¥¼ ì œì™¸í•˜ê³  í™œë™ ë‚´ìš©ë§Œ ì¶”ì¶œí•˜ì—¬ ì—°ê²°
        const contents = studentLogs[name].map((l) => l.content).join(", ");

        document.getElementById(
          "tempDraft"
        ).value = `${name} í•™ìƒì€ ë™ì•„ë¦¬ í™œë™ì„ í†µí•´ ${contents} ë“±ì˜ í™œë™ì„ ì£¼ë„ì ìœ¼ë¡œ ìˆ˜í–‰í•¨. ì´ ê³¼ì •ì—ì„œ ë°œìƒí•œ ë¬¸ì œë¥¼ ë™ë£Œë“¤ê³¼ í˜‘ë ¥í•˜ì—¬ í•´ê²°í•˜ë©° ë›°ì–´ë‚œ ì˜ì‚¬ì†Œí†µ ëŠ¥ë ¥ì„ ë°œíœ˜í•¨.`;
      }

      function applyToRight() {
        const draft = document.getElementById("tempDraft").value;
        const preview = document.getElementById("finalPreview");
        if (preview.innerText.includes("ë¨¼ì € ì¢Œì¸¡ì—ì„œ")) preview.innerText = "";
        preview.innerText = preview.innerText
          ? preview.innerText + "\n\n" + draft
          : draft;
        updateCount();
      }

      function updateCount() {
        const text = document.getElementById("finalPreview").innerText;
        document.getElementById("charNum").innerText = text.length;
        let bytes = 0;
        for (let i = 0; i < text.length; i++) {
          bytes += text.charCodeAt(i) > 127 ? 3 : 1;
        }
        const byteSpan = document.getElementById("byteNum");
        byteSpan.innerText = bytes;
        byteSpan.style.color = bytes > 1500 ? "red" : "#1f4ddc";
      }

      function aiPolish() {
        showToast("ë¬¸ë§¥ì„ ë‹¤ë“¬ëŠ” ì¤‘...");
      }
      function submitFinal() {
        alert("ì‘ì„±ëœ ë‚´ìš©ì„ NEISì— ì…ë ¥í•©ë‹ˆë‹¤.");
      }

      // --- ëª¨ë‹¬ ë¡œì§ ---
      function openModal() {
        document.getElementById("logModal").style.display = "block";
      }
      function closeModal() {
        document.getElementById("logModal").style.display = "none";
      }

      function initModalList() {
        const list = document.getElementById("modalStudentList");
        list.innerHTML = "";
        students.forEach((name) => {
          const div = document.createElement("div");
          div.className = "student-item";
          div.innerHTML = `
            <input type="checkbox" class="stu-chk" value="${name}" style="margin-right:10px; transform:scale(1.2);">
            <span class="student-name-span" onclick="viewHistory('${name}')">${name}</span>
          `;
          list.appendChild(div);
        });
      }

      function toggleAll(source) {
        const checkboxes = document.querySelectorAll(".stu-chk");
        checkboxes.forEach((cb) => (cb.checked = source.checked));
        updateTitle();
      }

      document
        .getElementById("modalStudentList")
        .addEventListener("change", updateTitle);

      function updateTitle() {
        const checkedCount =
          document.querySelectorAll(".stu-chk:checked").length;
        const title = document.getElementById("targetTitle");
        if (checkedCount > 0)
          title.textContent = `${checkedCount}ëª…ì˜ í•™ìƒì´ ì„ íƒë¨`;
        else if (viewingStudent)
          title.textContent = `[${viewingStudent}] í•™ìƒ ê¸°ë¡ ê´€ë¦¬`;
        else title.textContent = "ì‘ì—… ëŒ€ìƒì„ ì„ íƒí•´ ì£¼ì„¸ìš”";
      }

      function saveBatchLogs() {
        const checked = document.querySelectorAll(".stu-chk:checked");
        if (checked.length === 0)
          return alert("ì ìš©í•  í•™ìƒì„ ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒí•´ì£¼ì„¸ìš”.");

        const date = document.getElementById("logDate").value;
        const content = document.getElementById("logContent").value.trim();
        if (!content) return alert("í™œë™ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");

        checked.forEach((cb) => {
          const name = cb.value;
          studentLogs[name].push({ id: logIdCounter++, date, content });
        });

        showToast(`${checked.length}ëª…ì—ê²Œ ê¸°ë¡ì´ ì¼ê´„ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.`);
        document.getElementById("logContent").value = "";
        if (viewingStudent) renderHistory(viewingStudent);
      }

      function viewHistory(name) {
        viewingStudent = name;
        updateTitle();
        document
          .querySelectorAll(".student-name-span")
          .forEach((el) => el.classList.remove("active"));
        const spans = document.querySelectorAll(".student-name-span");
        for (let s of spans) {
          if (s.textContent === name) s.classList.add("active");
        }
        renderHistory(name);
      }

      function renderHistory(name) {
        const container = document.getElementById("historyList");
        const logs = studentLogs[name];

        if (!logs || logs.length === 0) {
          container.innerHTML = `<div style="color:#9ca3af; text-align:center; padding:20px;">[${name}] í•™ìƒì˜ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
          return;
        }

        let html = `<div style="font-weight:bold; margin-bottom:10px; color:#1f4ddc;">[${name}]ë‹˜ì˜ ê¸°ë¡ ë‚´ì—­</div>`;
        logs
          .sort((a, b) => b.date.localeCompare(a.date))
          .forEach((log) => {
            html += `
            <div class="history-item">
              <div class="history-content">
                <span class="history-date">${log.date}</span> ${log.content}
              </div>
              <div style="display:flex; gap:5px;">
                <button class="btn sm" onclick="editLog('${name}', ${log.id})">ìˆ˜ì •</button>
                <button class="btn sm" style="color:red; border-color:#fee2e2;" onclick="deleteLog('${name}', ${log.id})">ì‚­ì œ</button>
              </div>
            </div>`;
          });
        container.innerHTML = html;
      }

      function deleteLog(name, id) {
        if (!confirm("ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
        studentLogs[name] = studentLogs[name].filter((l) => l.id !== id);
        renderHistory(name);
      }

      function editLog(name, id) {
        const log = studentLogs[name].find((l) => l.id === id);
        if (!log) return;
        document.getElementById("logDate").value = log.date;
        document.getElementById("logContent").value = log.content;
        studentLogs[name] = studentLogs[name].filter((l) => l.id !== id);
        renderHistory(name);
        const checkboxes = document.querySelectorAll(".stu-chk");
        checkboxes.forEach((cb) => (cb.checked = cb.value === name));
        updateTitle();
        showToast("ë‚´ìš©ì„ ìˆ˜ì •í•œ ë’¤ [ì¼ê´„ ì ìš©] ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.");
      }
    </script>
  </body>
</html>
